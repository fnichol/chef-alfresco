###############################
## Common Alfresco Properties #
###############################

#
# Sample custom content and index data location
#
dir.root=<%= node[:alfresco][:root_dir] %>

#
# Sample database connection properties
#
db.username=<%= node[:alfresco][:db][:user] %>
db.password=<%= node[:alfresco][:db][:password] %>

#
# External locations
#-------------
ooo.exe=<%= node[:alfresco][:ooo][:exe] %>
ooo.enabled=<%= node[:alfresco][:ooo][:enabled] %>
jodconverter.officeHome=<%= node[:alfresco][:jodconverter][:office_home] %>
jodconverter.portNumbers=<%= node[:alfresco][:jodconverter][:port_numbers] %>
jodconverter.enabled=<%= node[:alfresco][:jodconverter][:enabled] %>
img.root=<%= node[:alfresco][:img][:root] %>
img.coders=<%= node[:alfresco][:img][:coders] %>
swf.exe=<%= node[:alfresco][:swf][:exe] %>

#
# Property to control whether schema updates are performed automatically.
# Updates must be enabled during upgrades as, apart from the static upgrade scripts,
# there are also auto-generated update scripts that will need to be executed.  After
# upgrading to a new version, this can be disabled.
#
#db.schema.update=true

#
# MySQL connection
#
db.driver=org.gjt.mm.mysql.Driver
db.url=<%= node[:alfresco][:db][:jdbc_url] %>

#
# Oracle connection
#
#db.driver=oracle.jdbc.OracleDriver
#db.url=jdbc:oracle:thin:@localhost:1521:alfresco

#
# SQLServer connection
# Requires jTDS driver version 1.2.5 and SNAPSHOT isolation mode
# Enable TCP protocol on fixed port 1433
# Prepare the database with:
# ALTER DATABASE alfresco SET ALLOW_SNAPSHOT_ISOLATION ON; 
#
#db.driver=net.sourceforge.jtds.jdbc.Driver
#db.url=jdbc:jtds:sqlserver://localhost:1433/alfresco
#db.txn.isolation=4096

#
# PostgreSQL connection (requires postgresql-8.2-504.jdbc3.jar or equivalent)
#
#db.driver=org.postgresql.Driver
#db.url=jdbc:postgresql://localhost:5432/alfresco

#
# Index Recovery Mode
#-------------
#index.recovery.mode=AUTO

#
# Outbound Email Configuration
#-------------
mail.protocol=<%= node[:alfresco][:mail][:protocol] %>
<% if node[:alfresco][:mail][:host] -%>
mail.host=<%= node[:alfresco][:mail][:host] %>
<% end -%>
mail.port=<%= node[:alfresco][:mail][:port] %>
mail.username=<%= node[:alfresco][:mail][:username] %>
<% if node[:alfresco][:mail][:password] -%>
mail.password=<%= node[:alfresco][:mail][:password] %>
<% end -%>
mail.encoding=<%= node[:alfresco][:mail][:encoding] %>
mail.from.default=<%= node[:alfresco][:mail][:from][:default] %>
mail.smtp.auth=<%= node[:alfresco][:mail][:smtp][:auth] %>

<% if node[:alfresco][:mail][:smtps][:starttls][:enable] -%>
mail.smtps.starttls.enable=<%= node[:alfresco][:mail][:smtps][:starttls][:enable] %>
<% end -%>
<% if node[:alfresco][:mail][:smtps][:auth] -%>
mail.smtps.auth=<%= node[:alfresco][:mail][:smtps][:auth] %>
<% end -%>

<% if node[:alfresco][:mail][:smtp][:auth] -%>
mail.smtp.auth=<%= node[:alfresco][:mail][:smtp][:auth] %>
<% end -%>

#
# Alfresco Email Service and Email Server
#-------------

# Enable/Disable the inbound email service.  The service could be used by processes other than
# the Email Server (e.g. direct RMI access) so this flag is independent of the Email Service.
#-------------
#email.inbound.enabled=true

# Email Server properties 
#-------------
#email.server.enabled=true
#email.server.port=25
#email.server.domain=alfresco.com
#email.inbound.unknownUser=anonymous

# A comma separated list of email REGEX patterns of allowed senders.
# If there are any values in the list then all sender email addresses
# must match. For example:
#   .*\@alfresco\.com, .*\@alfresco\.org
# Allow anyone:
#-------------
#email.server.allowed.senders=.*

#
# The default authentication chain
# To configure external authentication subsystems see:
# http://wiki.alfresco.com/wiki/Alfresco_Authentication_Subsystems
#-------------
#authentication.chain=alfrescoNtlm1:alfrescoNtlm

#
# URL Generation Parameters (The ${localname} token is replaced by the local server name)
#-------------
alfresco.context=<%= node[:alfresco][:url][:alfresco][:context] %>
alfresco.host=<%= node[:alfresco][:url][:alfresco][:host] %>
alfresco.port=<%= node[:alfresco][:url][:alfresco][:port] %>
alfresco.protocol=<%= node[:alfresco][:url][:alfresco][:protocol] %>

share.context=<%= node[:alfresco][:url][:share][:context] %>
share.host=<%= node[:alfresco][:url][:share][:host] %>
share.port=<%= node[:alfresco][:url][:share][:port] %>
share.protocol=<%= node[:alfresco][:url][:share][:protocol] %>

imap.server.enabled=<%= node[:alfresco][:imap][:server][:enabled] %>
imap.server.port=<%= node[:alfresco][:imap][:server][:port] %>
imap.server.host=<%= node[:alfresco][:imap][:server][:host] %>

# The RMI registry host and port is defined in the alfresco-shared.properties file
#
# To make your RMI services available from other machines you will need to change 
# alfresco.rmi.services.host from "localhost".
# alfresco.rmi.services.port=50500
# alfresco.rmi.services.host=localhost
#
# RMI service ports for the individual services.
# These seven services are available remotely.
#
# Assign individual ports for each service for best performance 
# or run several services on the same port. You can even run everything on 50500 if needed.
#
# Select 0 to use a random unused port.
# 
#avm.rmi.service.port=50501
#avmsync.rmi.service.port=50502
#attribute.rmi.service.port=50503
#authentication.rmi.service.port=50504
#repo.rmi.service.port=50505
#action.rmi.service.port=50506
#wcm-deployment-receiver.rmi.service.port=50507
#monitor.rmi.service.port=50508

#
# CIFS Support
#------------------------
cifs.enabled=<%= node[:alfresco][:cifs][:enabled] %>
cifs.serverName=<%= node[:alfresco][:cifs][:server_name] %>
cifs.ipv6.enabled=<%= node[:alfresco][:cifs][:ipv6][:enabled] %>
cifs.tcpipSMB.port=<%= node[:alfresco][:cifs][:tcpip_smb][:port] %>
cifs.netBIOSSMB.namePort=<%= node[:alfresco][:cifs][:netbios_smb][:name_port] %>
cifs.netBIOSSMB.datagramPort=<%= node[:alfresco][:cifs][:netbios_smb][:datagram_port] %>
cifs.netBIOSSMB.sessionPort=<%= node[:alfresco][:cifs][:netbios_smb][:session_port] %>

